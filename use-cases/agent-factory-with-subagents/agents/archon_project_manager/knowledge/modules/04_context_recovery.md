# Module 04: Context Recovery

**ะะตััะธั:** 1.0
**ะะฐัะฐ:** 2025-10-16
**ะะฒัะพั:** Archon Blueprint Architect

**ะะฐะทะฐะด ะบ:** [Project Manager Knowledge Base](../archon_project_manager_knowledge.md)

---

## ๐ง ะขะะฅะะะงะะกะะะ ะขะะะะะะะซ (ะฟัะธะพัะธัะตั ะดะปั ะทะฐะดะฐั Archon)

**ะะพะณะดะฐ ะะะฏะะะขะะะฌะะ ัะธัะฐัั ััะพั ะผะพะดัะปั:**
- ะะพัะปะต auto-compact ัะตััะธะธ
- ะะพัะตัั ะบะพะฝัะตะบััะฐ ะพ ัะตะบััะตะผ ะฟัะพะตะบัะต
- ะะพัะตัั project_id ะฒ ะฝะพะฒะพะน ัะตััะธะธ
- ะะฐะฟััะบ ะฐะณะตะฝัะฐ ะฟะพัะปะต ะดะปะธัะตะปัะฝะพะน ะฟะฐัะทั
- ะัะธะฑะบะฐ "project_id ะฝะต ะพะฟัะตะดะตะปะตะฝ"
- ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐัะธะฝะฐะตั ัะฐะฑะพัั ะฑะตะท ัะบะฐะทะฐะฝะธั ะฟัะพะตะบัะฐ
- ะะพะฒะฐั ัะตััะธั ั ะฝัะปะตะฒัะผ ะบะพะฝัะตะบััะพะผ

---

## ๐ ะะะฎะงะะะซะ ะกะะะะ (ะดะปั ะพะฑัะตะฝะธั ั ะฟะพะปัะทะพะฒะฐัะตะปะตะผ)

**ะัััะบะธะต:** auto-compact, ะฒััะฐัะฐ ะบะพะฝัะตะบััั, ะฒะพัััะฐะฝะพะฒะธัั ะบะพะฝัะตะบัั, project_id ะฒััะฐัะตะฝะพ, ะฝะพะฒะฐั ัะตััะธั, PROJECTS_REGISTRY

**English:** auto-compact, lost context, recover context, project_id lost, new session, PROJECTS_REGISTRY

---

## ๐ ะะะะะ ะงะะขะะขะฌ (ะบะพะฝัะตะบัั)

- ะะฐัะฐะปะพ ะฝะพะฒะพะน ัะตััะธะธ ั ะฐะณะตะฝัะพะผ
- ะะพัะปะต ะฟัะตััะฒะฐะฝะธั ัะฐะฑะพัั ะธ ะฒะพะทะพะฑะฝะพะฒะปะตะฝะธั
- ะะพะณะดะฐ ะฝัะถะฝะพ ะฒะพัััะฐะฝะพะฒะธัั ะธะฝัะพัะผะฐัะธั ะพ ะฟัะพะตะบัะต
- ะะพะณะดะฐ ะฟะพัะตััะฝ ะบะพะฝัะตะบัั ะพ ัะตะบััะตะน ัะฐะฑะพัะต

---

## ๐จ ะะะะะะะะ: ะะพัะตัั ะบะพะฝัะตะบััะฐ ะฟะพัะปะต auto-compact

### ะงัะพ ะฟัะพะธััะพะดะธั ะฟัะธ auto-compact?

```
ะกะตััะธั 1: ะะฐะฑะพัะฐะตะผ ั ะฟัะพะตะบัะพะผ "AI Agent Factory" (project_id: c75ef8...)
โ
โโ ะกะพะทะดะฐะฝะพ 10 ะทะฐะดะฐั
โโ ะะฑััะถะดะตะฝั ะฟัะธะพัะธัะตัั
โโ ะะฐัะฐัะฐ ัะฐะฑะพัะฐ ะฝะฐะด ะทะฐะดะฐัะตะน #3
โ
โโ AUTO-COMPACT TRIGGERED (ัะพะบะตะฝั ะทะฐะบะพะฝัะธะปะธัั)
    โ
ะกะตััะธั 2: ๐จ ะะกะฏ ะะะคะะะะะฆะะฏ ะะะขะะะฏะะ
โ
โโ โ ะะต ะฟะพะผะฝะธะผ project_id
โโ โ ะะต ะฟะพะผะฝะธะผ ะบะฐะบะพะน ะฟัะพะตะบั ะฐะบัะธะฒะฝัะน
โโ โ ะะต ะฟะพะผะฝะธะผ ะฝะฐะด ัะตะผ ัะฐะฑะพัะฐะปะธ
โโ โ ะะต ะฟะพะผะฝะธะผ ะบะพะฝัะตะบัั ะทะฐะดะฐั
```

### ะะพัะปะตะดััะฒะธั ะฟะพัะตัะธ ะบะพะฝัะตะบััะฐ:

1. **ะััะฐะฝะธัะฐ ั ะฟัะพะตะบัะฐะผะธ** - ะผะพะถะตั ัะฐะฑะพัะฐัั ั ะฝะตะฟัะฐะฒะธะปัะฝัะผ ะฟัะพะตะบัะพะผ
2. **ะัะฑะปะธัะพะฒะฐะฝะธะต ัะฐะฑะพัั** - ะผะพะถะตั ะฝะฐัะฐัั ะทะฐะดะฐัั ะทะฐะฝะพะฒะพ
3. **ะะพัะตัั ะฟัะธะพัะธัะตัะพะฒ** - ะฝะต ะฟะพะผะฝะธั ััะพ ะฑัะปะพ ะฒะฐะถะฝะพ
4. **ะะตะฟัะฐะฒะธะปัะฝะพะต ะฝะฐะทะฝะฐัะตะฝะธะต ะทะฐะดะฐั** - ะผะพะถะตั ะฝะฐะทะฝะฐัะธัั ะฝะฐ ะฝะตะฟัะฐะฒะธะปัะฝะพะณะพ ะฐะณะตะฝัะฐ

---

## ๐ก๏ธ ะะะจะะะะ: ะขัััััะพะฒะฝะตะฒะฐั ัะธััะตะผะฐ ัะพััะฐะฝะตะฝะธั ะบะพะฝัะตะบััะฐ

### ะฃะะะะะะฌ 1: Header ะบะฐะถะดะพะน ะพัะฒะตัะฐ (ะัะฝะพะฒะฝะฐั ะทะฐัะธัะฐ)

**ะะะฏะะะขะะะฌะะ ะฒ ะฝะฐัะฐะปะต ะะะะะะ ะพัะฒะตัะธ Project Manager:**

```markdown
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PROJECT CONTEXT
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ ะะบัะธะฒะฝะธะน ะฟัะพะตะบั: AI Agent Factory
๐ Project ID: c75ef8e3-6f4d-4da2-9e81-8d38d04a341a
๐ ะะฐะดะฐัั ะฒ ัะพะฑะพัั: 3 | Review: 2 | Todo: 15
โฐ ะััะฐะฝะฝั ะพะฝะพะฒะปะตะฝะฝั: 2025-10-16 14:30

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะพัะตะผั ััะพ ัะฐะฑะพัะฐะตั:**
- Project_id ะะกะะะะ ะฒะธะดะธะผ ะฒ ะฟะพัะปะตะดะฝะตะผ ัะพะพะฑัะตะฝะธะธ
- ะะพัะปะต auto-compact ะธ summarization ััะพ ัะพััะฐะฝะธััั
- ะะตะณะบะพ ัะบะพะฟะธัะพะฒะฐัั ะดะปั ัะปะตะดัััะธั ะทะฐะฟัะพัะพะฒ

### ะฃะะะะะะฌ 2: PROJECTS_REGISTRY.md (ะะพะบะฐะปัะฝัะน ะบะตั)

**ะคะฐะนะป:** `D:\Automation\agent-factory\...\archon_project_manager\knowledge\PROJECTS_REGISTRY.md`

**ะกัััะบัััะฐ:**

```markdown
# ะะตะตััั ะฟัะพะตะบัะพะฒ Archon

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 2025-10-16 14:30
**ะะตััะธั:** 1.0

## ะะบัะธะฒะฝัะต ะฟัะพะตะบัั

### ๐ฅ AI Agent Factory (ะะกะะะะะะ)
- **Project ID:** c75ef8e3-6f4d-4da2-9e81-8d38d04a341a
- **ะัะธะพัะธัะตั:** HIGHEST
- **ะกัะฐััั:** In active development
- **ะะพะบะฐะปัะฝัะน ะฟััั:** D:\Automation\agent-factory
- **Git:** https://github.com/nikitasolovey/ai-agent-factory
- **Tech Stack:** Python, Pydantic AI, FastAPI
- **ะะฐะดะฐั:** doing: 3, review: 2, todo: 15
- **ะะพัะปะตะดะฝัั ัะฐะฑะพัะฐ:** ะะตัะฐะบัะพัะธะฝะณ Project Manager (2025-10-16)

### ๐ PatternShift
- **Project ID:** [UUID]
- **ะัะธะพัะธัะตั:** MEDIUM
- **ะกัะฐััั:** Early development
- **ะะพะบะฐะปัะฝัะน ะฟััั:** D:\Automation\Development\projects\patternshift
- **Tech Stack:** Python, FastAPI, PostgreSQL, Claude API
- **ะะฟะธัะฐะฝะธะต:** ะขัะฐะฝััะพัะผะฐัะธะพะฝะฝะฐั ะฟัะพะณัะฐะผะผะฐ ะดะปั ะฟัะธัะพะปะพะณะพะฒ

## ะััะธะฒะฝัะต ะฟัะพะตะบัั

[ะกะฟะธัะพะบ ะทะฐะฒะตััะตะฝะฝัั ะฟัะพะตะบัะพะฒ]

## ะัััััะน ะดะพัััะฟ

| ะัะพะตะบั | ID (ะฟะตัะฒัะต 8 ัะธะผะฒะพะปะพะฒ) | ะะบัะธะฒะฝะพััั |
|--------|------------------------|------------|
| AI Agent Factory | c75ef8e3 | ๐ฅ ะกะตะนัะฐั |
| PatternShift | [UUID] | โธ๏ธ ะะฐัะทะฐ |
```

**ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต:**

```python
async def update_projects_registry():
    """ะะฒัะพะผะฐัะธัะตัะบะธ ะพะฑะฝะพะฒะปััั PROJECTS_REGISTRY.md ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน."""

    # 1. ะะพะปััะธัั ะฒัะต ะฟัะพะตะบัั
    projects = await mcp__archon__find_projects()

    # 2. ะะปั ะบะฐะถะดะพะณะพ ะฟัะพะตะบัะฐ ะฟะพะปััะธัั ััะฐัะธััะธะบั ะทะฐะดะฐั
    for project in projects:
        stats = await get_project_task_stats(project["id"])
        project["stats"] = stats

    # 3. ะะฑะฝะพะฒะธัั ัะฐะนะป PROJECTS_REGISTRY.md
    registry_content = format_registry(projects)
    write_file("PROJECTS_REGISTRY.md", registry_content)
```

### ะฃะะะะะะฌ 3: Auto-recovery ััะฝะบัะธั

**ะัะทัะฒะฐัั ะฒ ะฝะฐัะฐะปะต ะะะะะะ ะฝะพะฒะพะน ัะตััะธะธ:**

```python
async def recover_project_context_after_compact():
    """
    ะะพัััะฐะฝะพะฒะธัั ะบะพะฝัะตะบัั ะฟัะพะตะบัะฐ ะฟะพัะปะต auto-compact.

    Returns:
        str: project_id ะฐะบัะธะฒะฝะพะณะพ ะฟัะพะตะบัะฐ
    """

    print("๐ ะะพัััะฐะฝะฐะฒะปะธะฒะฐั ะบะพะฝัะตะบัั ะฟะพัะปะต auto-compact...")

    # ะจะะะ 1: ะะพะฟััะบะฐ ะฒะพัััะฐะฝะพะฒะธัั ะธะท PROJECTS_REGISTRY.md
    try:
        registry = read_file("PROJECTS_REGISTRY.md")
        active_project = extract_active_project(registry)
        if active_project:
            print(f"โ ะะพะฝัะตะบัั ะฒะพัััะฐะฝะพะฒะปะตะฝ ะธะท ัะตะตัััะฐ")
            print(f"๐ฏ ะะบัะธะฒะฝะธะน ะฟัะพะตะบั: {active_project['name']}")
            print(f"๐ Project ID: {active_project['id']}")
            return active_project["id"]
    except FileNotFoundError:
        print("โ๏ธ PROJECTS_REGISTRY.md ะฝะต ะฝะฐะนะดะตะฝ")

    # ะจะะะ 2: ะะพะปััะธัั ัะฟะธัะพะบ ะฟัะพะตะบัะพะฒ ะธะท Archon
    projects = await mcp__archon__find_projects()

    # ะจะะะ 3: ะะฟัะตะดะตะปะธัั ะฟะพัะปะตะดะฝะธะน ะฐะบัะธะฒะฝัะน ะฟัะพะตะบั
    # (ะฟะพ ะฟะพัะปะตะดะฝะธะผ ะธะทะผะตะฝะตะฝะธัะผ ะฒ ะทะฐะดะฐัะฐั)
    active_project_id = None
    latest_activity = None

    for project in projects:
        # ะะพะปััะธัั ะฟะพัะปะตะดะฝะธะต ะทะฐะดะฐัะธ ะฟัะพะตะบัะฐ
        tasks = await mcp__archon__find_tasks(
            project_id=project["id"],
            filter_by="status",
            filter_value="doing"
        )

        if tasks:
            # ะัะพะตะบั ั ะทะฐะดะฐัะฐะผะธ ะฒ ัะฐะฑะพัะต = ะฐะบัะธะฒะฝัะน
            active_project_id = project["id"]
            print(f"๐ ะะฐะนะดะตะฝ ะฐะบัะธะฒะฝัะน ะฟัะพะตะบั: {project['title']}")
            print(f"๐ ะะฐะดะฐั ะฒ ัะฐะฑะพัะต: {len(tasks)}")
            break

    # ะจะะะ 4: ะัะปะธ ะฝะต ะฝะฐะนะดะตะฝ - ัะฟัะพัะธัั ะฟะพะปัะทะพะฒะฐัะตะปั
    if not active_project_id:
        print("\n๐จ ะะ ะฃะะะะะกะฌ ะะะกะกะขะะะะะะขะฌ ะะะะขะะะกะข ะะะขะะะะขะะงะะกะะ")
        print("\n๐ ะะพัััะฟะฝัะต ะฟัะพะตะบัั:")
        for i, project in enumerate(projects, 1):
            print(f"{i}. {project['title']}")

        print("\n๐ฏ ะก ะบะฐะบะธะผ ะฟัะพะตะบัะพะผ ัะฐะฑะพัะฐะตะผ?")
        # ะะถะธะดะฐัั ะพัะฒะตั ะฟะพะปัะทะพะฒะฐัะตะปั

    return active_project_id
```

---

## ๐ WORKFLOW ะะะกะกะขะะะะะะะะะฏ ะะะะขะะะกะขะ

### ะะฐัะฐะปะพ ะฝะพะฒะพะน ัะตััะธะธ (ะฟะพัะปะต auto-compact)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะจะะ 1: ะัะพะฒะตัะธัั ะฝะฐะปะธัะธะต ะบะพะฝัะตะบััะฐ           โ
โ โ ะััั ะปะธ project_id ะฒ ะฟะฐะผััะธ?               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ ะะะข
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะจะะ 2: ะะพัััะฐะฝะพะฒะธัั ะธะท PROJECTS_REGISTRY.md  โ
โ โ ะะฐะนัะธ ะทะฐะฟะธัั ะพะฑ ะฐะบัะธะฒะฝะพะผ ะฟัะพะตะบัะต           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ ะะฐะนะดะตะฝะพ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะจะะ 3: ะะฐะปะธะดะธัะพะฒะฐัั ัะตัะตะท Archon MCP         โ
โ โ ะัะพะฒะตัะธัั ััะพ ะฟัะพะตะบั ัััะตััะฒัะตั            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ ะะฐะปะธะดะฝะพ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะจะะ 4: ะะพัััะฐะฝะพะฒะธัั ะฟะพะปะฝัะน ะบะพะฝัะตะบัั          โ
โ โโ ะัะพัะธัะฐัั ะพะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ                โ
โ โโ ะะพะปััะธัั ััะฐััั ะทะฐะดะฐั (doing/review/todo) โ
โ โโ ะะฟัะตะดะตะปะธัั ะฟัะธะพัะธัะตัั                     โ
โ โโ ะะพะบะฐะทะฐัั PROJECT CONTEXT header           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะจะะ 5: ะะพัะพะฒ ะบ ัะฐะฑะพัะต                        โ
โ โ ะะพะฝัะตะบัั ะฒะพัััะฐะฝะพะฒะปะตะฝ, ะผะพะถะฝะพ ะฟัะพะดะพะปะถะฐัั    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะปะธ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ะฝะต ัะดะฐะปะพัั

```python
# ะะะะขะะงะะกะะ ะะะะะ: ะะ ะะะะะะะะะะะขะฌ ะะะกะะะะะะ ะะะะะะข

# โ ะะะะะะะะะฌะะ
project_id = "ะฟะพัะปะตะดะฝะธะน ะธะท ะฟัะตะดัะดััะตะน ัะตััะธะธ"  # ะัะตะดะฟะพะปะพะถะตะฝะธะต!

# โ ะะะะะะะฌะะ
print("๐จ ะะ ะฃะะะะะกะฌ ะะะกะกะขะะะะะะขะฌ ะะะะขะะะกะข")
print("๐ฏ ะะพะถะฐะปัะนััะฐ, ัะบะฐะถะธัะต ั ะบะฐะบะธะผ ะฟัะพะตะบัะพะผ ัะฐะฑะพัะฐะตะผ:")
project_id = await ask_user_for_project()
```

---

## ๐ ะะะฏะะะขะะะฌะะซะ ะะะะะะะ CONTEXT RECOVERY

### ะัะฐะฒะธะปะพ 1: ะะะะะะะ ะฝะต ะฟัะตะดะฟะพะปะฐะณะฐัั ะฟะพัะปะตะดะฝะธะน ะฟัะพะตะบั

```python
# โ ะะะะะะฉะะะ
# "ะัะพะดะพะปะถะฐะตะผ ัะฐะฑะพัั ั AI Agent Factory"
# (ะะะ ััะพัะฝะตะฝะธั ั ะฟะพะปัะทะพะฒะฐัะตะปั)

# โ ะะะะะะะฌะะ
print("๐ฏ ะก ะบะฐะบะธะผ ะฟัะพะตะบัะพะผ ัะฐะฑะพัะฐะตะผ?")
# ะะพะบะฐะทะฐัั ัะฟะธัะพะบ โ ะฟะพะปััะธัั ะฒัะฑะพั
```

### ะัะฐะฒะธะปะพ 2: PROJECT CONTEXT header ะฒ ะะะะะะ ะพัะฒะตัะต

```python
# ะะะฏะะะขะะะฌะะ ะฝะฐัะธะฝะฐัั ะบะฐะถะดัะน ะพัะฒะตั ั:
print_project_context_header(project_id)

# ะะฐะถะต ะตัะปะธ ะบะฐะถะตััั ะพัะตะฒะธะดะฝัะผ - ะฒัะตะณะดะฐ ะฟะพะบะฐะทัะฒะฐัั
```

### ะัะฐะฒะธะปะพ 3: ะะฑะฝะพะฒะปััั PROJECTS_REGISTRY.md ะฟะพัะปะต ะบะฐะถะดะพะณะพ ะธะทะผะตะฝะตะฝะธั

```python
# ะะพัะปะต ัะพะทะดะฐะฝะธั ะทะฐะดะฐัะธ
await mcp__archon__manage_task("create", ...)
await update_projects_registry()  # ะะฑะฝะพะฒะธัั ัะตะตััั

# ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ััะฐัััะฐ
await mcp__archon__manage_task("update", ...)
await update_projects_registry()  # ะะฑะฝะพะฒะธัั ัะตะตััั
```

### ะัะฐะฒะธะปะพ 4: ะะฐะปะธะดะฐัะธั project_id ะฟะตัะตะด ะะะะะะ ะพะฟะตัะฐัะธะตะน

```python
async def ensure_project_context(project_id: str = None):
    """ะฃะฑะตะดะธัััั ััะพ project_id ะพะฟัะตะดะตะปะตะฝ."""

    if not project_id:
        project_id = await recover_project_context_after_compact()

    if not project_id:
        raise ValueError("โ ะะจะะะะ: project_id ะฝะต ะพะฟัะตะดะตะปะตะฝ!")

    return project_id
```

---

## ๐ ะะะะะะะกะขะะะ ะะะะะะะ ะก ะะะะขะะะกะขะะ

### ะกะธะผะฟัะพะผั ะฟะพัะตัะธ ะบะพะฝัะตะบััะฐ:

1. **"ะะฐะด ะบะฐะบะธะผ ะฟัะพะตะบัะพะผ ัะฐะฑะพัะฐะตะผ?"** - ะฐะณะตะฝั ะฝะต ะฟะพะผะฝะธั ะฟัะพะตะบั
2. **ะะฐะดะฐัะธ ะธะท ัะฐะทะฝัั ะฟัะพะตะบัะพะฒ** - ะฟััะฐะฝะธัะฐ ะฒ ะทะฐะดะฐัะฐั
3. **ะะพะฒัะพัะฝัะต ะฒะพะฟัะพัั** - ะฐะณะตะฝั ะทะฐะดะฐะตั ัะถะต ะพัะฒะตัะตะฝะฝัะต ะฒะพะฟัะพัั
4. **ะะตะฟัะฐะฒะธะปัะฝัะต ะฝะฐะทะฝะฐัะตะฝะธั** - ะทะฐะดะฐัะธ ะฝะฐะทะฝะฐัะฐัััั ะฝะต ัะตะผ ะฐะณะตะฝัะฐะผ

### ะงะตะบ-ะปะธัั ะดะธะฐะณะฝะพััะธะบะธ:

```
โก ะััั ะปะธ PROJECT CONTEXT header ะฒ ะฟะพัะปะตะดะฝะตะผ ะพัะฒะตัะต?
โก ะกััะตััะฒัะตั ะปะธ PROJECTS_REGISTRY.md?
โก ะะฑะฝะพะฒะปัะปัั ะปะธ ัะตะตััั ะฝะตะดะฐะฒะฝะพ?
โก ะะพะถะตั ะปะธ ะฐะณะตะฝั ะฟะพะปััะธัั ะฟัะพะตะบัั ัะตัะตะท Archon MCP?
โก ะะฐะปะธะดะฝะฐ ะปะธ ัะฒัะทั ั Archon MCP Server?
```

---

## ๐ฏ BEST PRACTICES

### ะัะพะฐะบัะธะฒะฝะพะต ัะพััะฐะฝะตะฝะธะต ะบะพะฝัะตะบััะฐ

```python
# ะะฐัะฐะปะพ ัะฐะฑะพัั
project_id = await ensure_project_context()
print_project_context_header(project_id)

# ะะพ ะฒัะตะผั ัะฐะฑะพัั
await update_projects_registry()  # ะะพัะปะต ะบะฐะถะดะพะณะพ ะธะทะผะตะฝะตะฝะธั

# ะะตัะตะด ะทะฐะฒะตััะตะฝะธะตะผ
await save_session_state(project_id, current_task_id)
```

### ะะฐัะธัะฐ ะพั ะผะฝะพะถะตััะฒะตะฝะฝัั ะฒะพัััะฐะฝะพะฒะปะตะฝะธะน

```python
# ะะตัะธัะพะฒะฐะฝะธะต project_id ะฒ ัะตััะธะธ
_session_project_id = None

async def get_project_id():
    global _session_project_id

    if _session_project_id:
        return _session_project_id

    _session_project_id = await recover_project_context_after_compact()
    return _session_project_id
```

---

**ะะฐะฒะธะณะฐัะธั:**
- [โ ะัะตะดัะดััะธะน ะผะพะดัะปั: Task Management](03_task_management.md)
- [โ ะะฐะทะฐะด ะบ Project Manager Knowledge Base](../archon_project_manager_knowledge.md)
- [โ ะกะปะตะดัััะธะน ะผะพะดัะปั: Agile Methodologies](05_agile_methodologies.md)
