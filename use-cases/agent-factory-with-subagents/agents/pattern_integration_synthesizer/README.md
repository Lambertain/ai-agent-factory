# Pattern Integration Synthesizer Agent

**–°–∏—Å—Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Ö–æ–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –≤–∏–¥–µ–Ω–∏–µ–º –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.**

Pattern Integration Synthesizer Agent —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Ü–µ–ª–æ—Å—Ç–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ PatternShift. –ê–≥–µ–Ω—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏–Ω–µ—Ä–≥–∏—á–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–¥—É–ª–µ–π, —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—Ä–∏–≤–æ–π –∏ –ø—Ä–µ–¥–≤–∏–¥–∏—Ç —Ç–æ—á–∫–∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è.

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ (Progressive Intensity, Technique Sandwich, Energy Wave, Spiral Deepening)
- –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∏–Ω–µ—Ä–≥–∏–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π –ø–æ —Ñ–∞–∑–∞–º –ø—Ä–æ–≥—Ä–∞–º–º—ã

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—Ä–∏–≤–æ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 21-–¥–Ω–µ–≤–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –£—á–µ—Ç 5 —Å—Ç–∞–¥–∏–π: Excitement, Resistance, Breakthrough, Integration, Mastery
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –ø–æ–¥ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –ü—Ä–µ–¥–≤–∏–¥–µ–Ω–∏–µ —Ç–æ—á–µ–∫ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–æ—á–µ–∫ dropout (–¥–Ω–∏ 4-7, 10-12, 16-17)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ (Light, Medium, Intensive)
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ burnout –∏ dropout

### 5. –ê–Ω–∞–ª–∏–∑ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π: Program ‚Üí Phase ‚Üí Day ‚Üí Session ‚Üí Activity ‚Üí Module
- –°–æ–∑–¥–∞–Ω–∏–µ narrative arc —á–µ—Ä–µ–∑ –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º–º—É
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è coherence –∏ —Å–∏–Ω–µ—Ä–≥–∏–∏

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- Pydantic AI 0.0.14+
- OpenAI API key (–∏–ª–∏ –¥—Ä—É–≥–æ–π LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd agents/pattern_integration_synthesizer
pip install -r requirements.txt
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
```bash
cp .env.example .env
```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```env
LLM_API_KEY=your_actual_api_key_here
PATTERNSHIFT_PROJECT_PATH=/path/to/your/patternshift/project
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from pattern_integration_synthesizer import run_pattern_integration_synthesizer
import os

# –û—Ä–∫–µ—Å—Ç—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
result = await run_pattern_integration_synthesizer(
    user_message="–û—Ä–∫–µ—Å—Ç—Ä—É–π –º–æ–¥—É–ª–∏ –¥–ª—è 21-–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ç—Ä–µ–≤–æ–≥–æ–π",
    api_key=os.getenv("LLM_API_KEY"),
    patternshift_project_path="/path/to/patternshift"
)

print(result)
```

### –ê–Ω–∞–ª–∏–∑ —Å–∏–Ω–µ—Ä–≥–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

```python
from pattern_integration_synthesizer import analyze_program_synergy

program_structure = {
    "program_name": "Anxiety Management Program",
    "total_days": 21,
    "target_conditions": ["anxiety", "stress"],
    "phases": [...]
}

result = await analyze_program_synergy(
    program_structure=program_structure,
    api_key=os.getenv("LLM_API_KEY")
)

print(result)
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—Ä–∏–≤–æ–π

```python
from pattern_integration_synthesizer import optimize_emotional_curve

result = await optimize_emotional_curve(
    program_duration_days=21,
    target_conditions=["anxiety", "stress"],
    api_key=os.getenv("LLM_API_KEY"),
    program_intensity="medium"
)

print(result)
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π

```python
from pattern_integration_synthesizer import create_module_sequence

result = await create_module_sequence(
    module_ids=["psychoeducation", "breathing", "cognitive_restructuring"],
    phase_type="beginning",
    target_goals=["build awareness", "reduce anxiety"],
    api_key=os.getenv("LLM_API_KEY")
)

print(result)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
pytest tests/
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –¢–µ—Å—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
pytest tests/test_tools.py

# –¢–µ—Å—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞–≥–µ–Ω—Ç–∞
pytest tests/test_agent.py

# –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
pytest tests/test_validation.py

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
pytest tests/test_integration.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

```bash
pytest tests/ --cov=. --cov-report=html
```

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞

### 1. orchestrate_module_sequence
–û—Ä–∫–µ—Å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `module_ids`: –°–ø–∏—Å–æ–∫ ID –º–æ–¥—É–ª–µ–π
- `phase_type`: beginning | development | integration
- `target_goals`: –¶–µ–ª–µ–≤—ã–µ —Ü–µ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

**–ü—Ä–∏–º–µ—Ä:**
```python
result = await orchestrate_module_sequence(
    ctx=context,
    module_ids=["mod_1", "mod_2", "mod_3"],
    phase_type="beginning",
    target_goals=["build awareness"]
)
```

### 2. manage_emotional_curve
–£–ø—Ä–∞–≤–ª—è—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—Ä–∏–≤–æ–π –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `program_duration_days`: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –¥–Ω—è—Ö
- `program_intensity`: light | medium | intensive

**–ü—Ä–∏–º–µ—Ä:**
```python
result = await manage_emotional_curve(
    ctx=context,
    program_duration_days=21,
    program_intensity="medium"
)
```

### 3. identify_resistance_points
–ü—Ä–µ–¥–≤–∏–¥–µ—Ç—å —Ç–æ—á–∫–∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –∏ –≤—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `program`: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- `user_profile`: –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä:**
```python
result = await identify_resistance_points(
    ctx=context,
    program=program_structure,
    user_profile={"previous_dropout": True}
)
```

### 4. ensure_module_synergy
–û–±–µ—Å–ø–µ—á–∏—Ç—å —Å–∏–Ω–µ—Ä–≥–∏—é –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `module_a_id`: ID –ø–µ—Ä–≤–æ–≥–æ –º–æ–¥—É–ª—è
- `module_b_id`: ID –≤—Ç–æ—Ä–æ–≥–æ –º–æ–¥—É–ª—è
- `gap_days`: –ü—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤ –¥–Ω—è—Ö –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```python
result = await ensure_module_synergy(
    ctx=context,
    module_a_id="cognitive_restructuring",
    module_b_id="behavioral_activation",
    gap_days=1
)
```

### 5. analyze_program_coherence
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ —Å–≤—è–∑–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `program_structure`: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

**–ü—Ä–∏–º–µ—Ä:**
```python
result = await analyze_program_coherence(
    ctx=context,
    program_structure=program_structure
)
```

### 6. search_agent_knowledge
–ü–æ–∏—Å–∫ –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –∞–≥–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ Archon RAG.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query`: –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- `match_count`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```python
result = await search_agent_knowledge(
    ctx=context,
    query="orchestration patterns",
    match_count=5
)
```

---

## üìä –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏

### Progressive Intensity (–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** Beginning Phase, —Ä–∞–±–æ—Ç–∞ —Å —Ç—Ä–∞–≤–º–∞–º–∏, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–º—ã
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** light ‚Üí medium ‚Üí deep
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ overwhelm, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### Technique Sandwich (–°—ç–Ω–¥–≤–∏—á —Ç–µ—Ö–Ω–∏–∫)
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** NLP —Ä–∞–±–æ—Ç–∞, –≥–∏–ø–Ω–æ–∑, –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** technique ‚Üí integration ‚Üí technique ‚Üí integration
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –≤—Ä–µ–º—è –Ω–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ–∂–¥—É —Ç–µ—Ö–Ω–∏–∫–∞–º–∏

### Energy Wave (–í–æ–ª–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è)
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** high energy ‚Üí rest ‚Üí high energy ‚Üí reflection
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–≥–æ—Ä–∞–Ω–∏—è, —É—Å—Ç–æ–π—á–∏–≤—ã–π momentum

### Spiral Deepening (–°–ø–∏—Ä–∞–ª—å–Ω–æ–µ —É–≥–ª—É–±–ª–µ–Ω–∏–µ)
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã, —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–∞–≤—ã–∫–æ–≤, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** intro ‚Üí practice ‚Üí return_deeper ‚Üí practice ‚Üí mastery
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –±–µ–∑ overwhelm

---

## üìà –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫—Ä–∏–≤–∞—è 21-–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

### Days 1-3: EXCITEMENT (–≠–Ω—Ç—É–∑–∏–∞–∑–º)
- **–≠–Ω–µ—Ä–≥–∏—è:** HIGH | **–ú–æ—Ç–∏–≤–∞—Ü–∏—è:** HIGH
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –ø—Å–∏—Ö–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –ª–µ–≥–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
- **–ò–∑–±–µ–≥–∞—Ç—å:** —Å–ª–∏—à–∫–æ–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞, —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

### Days 4-7: RESISTANCE (–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ)
- **–≠–Ω–µ—Ä–≥–∏—è:** MEDIUM | **–ú–æ—Ç–∏–≤–∞—Ü–∏—è:** DECLINING
- **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –¢–û–ß–ö–ê DROPOUT** - –Ω—É–∂–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç, quick wins, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ü–µ–ª—è—Ö

### Days 8-12: BREAKTHROUGH (–ü—Ä–æ—Ä—ã–≤)
- **–≠–Ω–µ—Ä–≥–∏—è:** VARIABLE | **–ú–æ—Ç–∏–≤–∞—Ü–∏—è:** RENEWED
- **üí° –ú–æ–º–µ–Ω—Ç –¥–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–π —Ä–∞–±–æ—Ç—ã**
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** —É–≥–ª—É–±–ª–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏, consolidation, celebrating progress

### Days 13-18: INTEGRATION (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- **–≠–Ω–µ—Ä–≥–∏—è:** STABLE | **–ú–æ—Ç–∏–≤–∞—Ü–∏—è:** HIGH
- **–§–æ–∫—É—Å:** –ø–µ—Ä–µ–Ω–æ—Å –≤ —Ä–µ–∞–ª—å–Ω—É—é –∂–∏–∑–Ω—å
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** real-world application, habit formation, advanced techniques

### Days 19-21: MASTERY (–ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ)
- **–≠–Ω–µ—Ä–≥–∏—è:** HIGH | **–ú–æ—Ç–∏–≤–∞—Ü–∏—è:** INTRINSIC
- **–¶–µ–ª—å:** –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–º—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—é
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** consolidation, future planning, maintenance strategies

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
pattern_integration_synthesizer/
‚îú‚îÄ‚îÄ agent.py                    # –ì–ª–∞–≤–Ω—ã–π –∞–≥–µ–Ω—Ç –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ dependencies.py             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
‚îú‚îÄ‚îÄ settings.py                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ models.py                   # Pydantic –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ tools.py                    # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ prompts.py                  # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
‚îú‚îÄ‚îÄ __init__.py                 # –≠–∫—Å–ø–æ—Ä—Ç—ã –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example                # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ README.md                   # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ knowledge/                  # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ pattern_integration_synthesizer_knowledge.md
‚îî‚îÄ‚îÄ tests/                      # –¢–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ conftest.py             # Pytest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ test_agent.py           # –¢–µ—Å—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞–≥–µ–Ω—Ç–∞
    ‚îú‚îÄ‚îÄ test_tools.py           # –¢–µ—Å—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
    ‚îú‚îÄ‚îÄ test_validation.py      # –¢–µ—Å—Ç—ã Pydantic –º–æ–¥–µ–ª–µ–π
    ‚îî‚îÄ‚îÄ test_integration.py     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Archon Knowledge Base

### –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –≤ Archon

1. –û—Ç–∫—Ä–æ–π—Ç–µ Archon: http://localhost:3737/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Knowledge Base** ‚Üí **Upload**
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª: `knowledge/pattern_integration_synthesizer_knowledge.md`
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–≥–∏:
   - `pattern-integration-synthesizer`
   - `orchestration`
   - `synergy`
   - `agent-knowledge`
   - `patternshift`
5. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ –ø—Ä–æ–µ–∫—Ç—É **AI Agent Factory** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Sources**

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAG –≤ –∫–æ–¥–µ

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Archon RAG —á–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `search_agent_knowledge`:

```python
# –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
result = await search_agent_knowledge(
    ctx=context,
    query="emotional curve resistance points",
    match_count=5
)
```

---

## ü§ù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PatternShift

Pattern Integration Synthesizer —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π PatternShift:

```
Program ‚Üí Phase ‚Üí Day ‚Üí Session ‚Üí Activity ‚Üí Module
```

### –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–∞:
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π –≤ Activities
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Activities –ø–æ Sessions
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Sessions –≤ Days
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ Days –≤ Phases
- –°–≤—è–∑–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –≤ –µ–¥–∏–Ω—É—é Program

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã:

```python
from pattern_integration_synthesizer import Program, Phase, Day, Session, Activity

program = Program(
    program_id="prog_anxiety_21day",
    program_name="Anxiety Management Program",
    total_days=21,
    target_conditions=["anxiety", "stress"],
    overall_goals=["reduce anxiety", "build coping skills"],
    phases=[
        Phase(
            phase_type=PhaseType.BEGINNING,
            phase_name="Foundation Building",
            duration_days=7,
            phase_goals=["build awareness", "psychoeducation"],
            days=[...]
        )
    ]
)
```

---

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è 21-–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

```python
import os
from pattern_integration_synthesizer import run_pattern_integration_synthesizer

async def orchestrate_anxiety_program():
    result = await run_pattern_integration_synthesizer(
        user_message="""
        –û—Ä–∫–µ—Å—Ç—Ä—É–π 21-–¥–Ω–µ–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ç—Ä–µ–≤–æ–≥–æ–π:

        –ú–æ–¥—É–ª–∏ –¥–ª—è Beginning Phase (Days 1-7):
        - psychoeducation_anxiety
        - breathing_basics
        - thought_awareness

        –ú–æ–¥—É–ª–∏ –¥–ª—è Development Phase (Days 8-14):
        - cognitive_restructuring
        - behavioral_activation
        - exposure_gentle
        - self_compassion

        –ú–æ–¥—É–ª–∏ –¥–ª—è Integration Phase (Days 15-21):
        - real_world_exposure
        - habit_formation
        - relapse_prevention
        - maintenance_planning
        """,
        api_key=os.getenv("LLM_API_KEY"),
        patternshift_project_path="/path/to/patternshift"
    )

    print(result)
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ —Ç–æ—á–µ–∫ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è

```python
from pattern_integration_synthesizer import (
    run_pattern_integration_synthesizer,
    identify_resistance_points
)

async def analyze_resistance():
    program = {
        "program_name": "Anxiety Program",
        "total_days": 21,
        "phases": [...]
    }

    user_profile = {
        "previous_dropout": True,
        "low_motivation": False
    }

    result = await run_pattern_integration_synthesizer(
        user_message=f"""
        –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–æ—á–∫–∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã:
        {program}

        –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
        {user_profile}

        –ü—Ä–µ–¥–ª–æ–∂–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏.
        """,
        api_key=os.getenv("LLM_API_KEY")
    )

    print(result)
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω–µ—Ä–≥–∏–∏ –º–æ–¥—É–ª–µ–π

```python
from pattern_integration_synthesizer import run_pattern_integration_synthesizer

async def check_synergy():
    result = await run_pattern_integration_synthesizer(
        user_message="""
        –ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω–µ—Ä–≥–∏—é –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏:
        - cognitive_restructuring (Day 5)
        - behavioral_activation (Day 6)

        –ü—Ä–æ–º–µ–∂—É—Ç–æ–∫: 1 –¥–µ–Ω—å

        –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π?
        """,
        api_key=os.getenv("LLM_API_KEY")
    )

    print(result)
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM

```python
# settings.py
llm_provider: str = "openai"
llm_model: str = "gpt-4o"
llm_base_url: str = "https://api.openai.com/v1"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Archon

```python
archon_project_id: str = "c75ef8e3-6f4d-4da2-9e81-8d38d04a341a"
archon_api_url: str = "http://localhost:3737"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Knowledge Base

```python
knowledge_tags: list = [
    "pattern-integration-synthesizer",
    "orchestration",
    "synergy",
    "agent-knowledge",
    "patternshift"
]
```

---

## üìñ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –∞–≥–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ AI Agent Factory –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ PatternShift.

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:
- –ü—Ä–æ–µ–∫—Ç –≤ Archon: **AI Agent Factory** (ID: c75ef8e3-6f4d-4da2-9e81-8d38d04a341a)
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: `pattern_integration_synthesizer_knowledge.md`

---

**Pattern Integration Synthesizer Agent v1.0.0**
*–°–∏—Å—Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏*
