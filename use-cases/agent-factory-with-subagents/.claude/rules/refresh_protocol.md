# –ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Å–≤—ñ–∂–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –∞–≥–µ–Ω—Ç—ñ–≤

## üîÑ –ü–†–û–ë–õ–ï–ú–ê: –ê–≥–µ–Ω—Ç–∏ "–∑–∞–±—É–≤–∞—é—Ç—å" –ø—Ä–∞–≤–∏–ª–∞

**–û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞:** –î–æ–≤–≥—ñ —Ñ–∞–π–ª–∏ (560+ —Ä—è–¥–∫—ñ–≤) –ø–æ–≥–∞–Ω–æ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—é—Ç—å—Å—è AI —á–µ—Ä–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞.

**–°–∏–º–ø—Ç–æ–º–∏:**
- –ê–≥–µ–Ω—Ç–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—å –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –≤ —Ä–æ–ª—å
- –ó–∞–±—É–≤–∞—é—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º—ñ–∫—Ä–æ–∑–∞–¥–∞—á—ñ
- –ù–µ —Ä–æ–±–ª—è—Ç—å git –∫–æ–º–º—ñ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á
- –ù–µ —Å–ª—ñ–¥—É—é—Ç—å workflow –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º

## ‚úÖ –†–Ü–®–ï–ù–ù–Ø: –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ + –ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Å–≤—ñ–∂–µ–Ω–Ω—è

### –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª:

```
.claude/rules/
‚îú‚îÄ‚îÄ 01_role_switching.md      # 50-80 —Ä—è–¥–∫—ñ–≤
‚îú‚îÄ‚îÄ 02_workflow_rules.md      # 80-100 —Ä—è–¥–∫—ñ–≤
‚îú‚îÄ‚îÄ 03_task_management.md     # 100-120 —Ä—è–¥–∫—ñ–≤
‚îú‚îÄ‚îÄ 04_quality_standards.md   # 80-100 —Ä—è–¥–∫—ñ–≤
‚îú‚îÄ‚îÄ 05_git_integration.md     # 70-90 —Ä—è–¥–∫—ñ–≤
‚îú‚îÄ‚îÄ 06_coding_standards.md    # 90-110 —Ä—è–¥–∫—ñ–≤
‚îú‚îÄ‚îÄ 07_agent_specific.md      # 80-100 —Ä—è–¥–∫—ñ–≤
‚îî‚îÄ‚îÄ refresh_protocol.md       # 60-80 —Ä—è–¥–∫—ñ–≤ (—Ü–µ–π —Ñ–∞–π–ª)
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ö–æ–∂–µ–Ω —Ñ–∞–π–ª 50-120 —Ä—è–¥–∫—ñ–≤ - –ª–µ–≥–∫–æ –∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏
- ‚úÖ –§–æ–∫—É—Å–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç - –æ–¥–Ω–∞ —Ç–µ–º–∞ –Ω–∞ —Ñ–∞–π–ª
- ‚úÖ –®–≤–∏–¥–∫–µ –æ—Å–≤—ñ–∂–µ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Å–≤—ñ–∂–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ:

**–ö–æ–ª–∏ –æ—Å–≤—ñ–∂—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞:**

**–ê–í–¢–û–ú–ê–¢–ò–ß–ù–Ü –¢–†–ò–ì–ì–ï–†–ò:**
1. **–ü—ñ—Å–ª—è –∫–æ–∂–Ω–∏—Ö 5 –º—ñ–∫—Ä–æ–∑–∞–¥–∞—á** - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –º–æ–¥—É–ª—ñ –ø—Ä–∞–≤–∏–ª
2. **–ù–∞ –ø–æ—á–∞—Ç–∫—É –Ω–æ–≤–æ—ó –≤–µ–ª–∏–∫–æ—ó –∑–∞–¥–∞—á—ñ** - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏ –í–°–Ü –º–æ–¥—É–ª—ñ
3. **–ü—ñ—Å–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è —Ä–æ–ª—ñ** - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏ role_switching.md
4. **–ü–µ—Ä–µ–¥ git –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏** - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏ git_integration.md
5. **–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø–æ–º–∏–ª–æ–∫** - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –º–æ–¥—É–ª—ñ

### üö® –û–ë–û–í'–Ø–ó–ö–û–í–ò–ô –ß–ï–ö-–õ–ò–°–¢ –ü–ï–†–ï–î –ö–û–ñ–ù–û–Æ –ó–ê–î–ê–ß–ï–Æ:

**–ü–ï–†–ï–î –ü–û–ß–ê–¢–ö–û–ú –ë–£–î–¨-–Ø–ö–û–á –ó–ê–î–ê–ß–Ü –ü–ï–†–ï–í–Ü–†:**

```markdown
‚ñ° –ü—Ä–æ—á–∏—Ç–∞–≤ `.claude/rules/08_no_shortcuts.md`?
‚ñ° –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é "..." –∞–±–æ "(—Ä–µ—à—Ç–∞ –∫–æ–¥—É –±–µ–∑ –∑–º—ñ–Ω)"?
‚ñ° –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞—é –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó —Ç–æ–∫–µ–Ω—ñ–≤?
‚ñ° –ù–ï –ø–ª–∞–Ω—É—é –º–∞—Å–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç–∏?
‚ñ° –û–±—Ä–æ–±–ª—è—é –∫–æ–∂–µ–Ω —Ñ–∞–π–ª –Ü–ù–î–ò–í–Ü–î–£–ê–õ–¨–ù–û?
‚ñ° –ü–∏—à—É –ü–û–í–ù–ò–ô –∫–æ–¥ –∑ –£–°–Ü–ú–ê –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏?
‚ñ° –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –ø–æ–∑–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü—ñ—î—é - —Å—Ç–≤–æ—Ä—é –∑–∞–¥–∞—á—É –µ—Å–∫–∞–ª–∞—Ü—ñ—ó?
‚ñ° –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –í –∫–æ–º–ø–µ—Ç–µ–Ω—Ü—ñ—ó - –≤–∏–ø—Ä–∞–≤–ª—é –ù–ï–ì–ê–ô–ù–û?
‚ñ° –ù–ï —ñ–≥–Ω–æ—Ä—É—é –∂–æ–¥–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏?
‚ñ° –ù–ï –æ–±—Ö–æ–¥–∂—É –ø—Ä–æ–±–ª–µ–º–∏ —á–µ—Ä–µ–∑ —Å–ø—Ä–æ—â–µ–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–¥—É?
```

**–Ø–ö –ö–û–†–ò–°–¢–£–í–ê–¢–ò–°–Ø:**
- –ü–µ—Ä–µ–¥ –∫–æ–∂–Ω–æ—é –Ω–æ–≤–æ—é –∑–∞–¥–∞—á–µ—é ‚Üí –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —á–µ–∫-–ª–∏—Å—Ç –≤–≥–æ–ª–æ—Å
- –Ø–∫—â–æ —Ö–æ—á –æ–¥–∏–Ω –ø—É–Ω–∫—Ç "–ù–Ü" ‚Üí –ó–£–ü–ò–ù–ò–¢–ò–°–Ø —Ç–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø—ñ–¥—Ö—ñ–¥
- –¢—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è 100% "–¢–ê–ö" ‚Üí —Ä–æ–∑–ø–æ—á–∏–Ω–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

**–ú–ê–ù–£–ê–õ–¨–ù–Ü –¢–†–ò–ì–ì–ï–†–ò:**
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —è–≤–Ω–æ –ø—Ä–æ—Å–∏—Ç—å "–æ—Å–≤—ñ–∂–∏ –ø—Ä–∞–≤–∏–ª–∞"
- –ê–≥–µ–Ω—Ç –ø–æ–º—ñ—á–∞—î —â–æ –ø–æ—Ä—É—à–∏–≤ –ø—Ä–∞–≤–∏–ª–∞
- –ü–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Å–≤—ñ–∂–µ–Ω–Ω—è:

```python
async def refresh_role_memory(trigger_type: str, context: str) -> None:
    """–û—Å–≤—ñ–∂–∏—Ç–∏ –ø–∞–º'—è—Ç—å –∞–≥–µ–Ω—Ç–∞ —â–æ–¥–æ –ø—Ä–∞–≤–∏–ª."""

    # –ö–†–û–ö 1: –í–∏–∑–Ω–∞—á–∏—Ç–∏ —è–∫—ñ –º–æ–¥—É–ª—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏
    modules_to_refresh = determine_relevant_modules(trigger_type, context)

    # –ö–†–û–ö 2: –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∫–æ–∂–µ–Ω –º–æ–¥—É–ª—å
    for module in modules_to_refresh:
        module_content = await read_file(f".claude/rules/{module}.md")
        process_into_context(module_content)

    # –ö–†–û–ö 3: –í–∏–≤–µ—Å—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
    print(f"üîÑ –ü–∞–º'—è—Ç—å –æ—Å–≤—ñ–∂–µ–Ω–∞: {', '.join(modules_to_refresh)}")

def determine_relevant_modules(trigger_type: str, context: str) -> List[str]:
    """–í–∏–∑–Ω–∞—á–∏—Ç–∏ —è–∫—ñ –º–æ–¥—É–ª—ñ –ø—Ä–∞–≤–∏–ª –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç–∏."""

    trigger_module_map = {
        "task_start": ["01_role_switching", "02_workflow_rules"],
        "pre_commit": ["05_git_integration"],
        "delegation": ["03_task_management", "07_agent_specific"],
        "quality_check": ["04_quality_standards"],
        "coding": ["06_coding_standards"],
        "full_refresh": [  # –ü–æ–≤–Ω–µ –æ—Å–≤—ñ–∂–µ–Ω–Ω—è
            "01_role_switching",
            "02_workflow_rules",
            "03_task_management",
            "04_quality_standards",
            "05_git_integration",
            "06_coding_standards",
            "07_agent_specific"
        ]
    }

    return trigger_module_map.get(trigger_type, ["refresh_protocol"])
```

## üìä –û–ß–Ü–ö–£–í–ê–ù–Ü –†–ï–ó–£–õ–¨–¢–ê–¢–ò

**–ü—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –º–æ–¥—É–ª—å–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏:**
- ‚úÖ 80%+ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª
- ‚úÖ 95%+ –∑–∞–¥–∞—á –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è–º —Ä–æ–ª—ñ
- ‚úÖ 100% –∑–∞–¥–∞—á –∑ –º—ñ–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ 100% –∑–∞–¥–∞—á –∑ git –∫–æ–º–º—ñ—Ç–∞–º–∏
- ‚úÖ 90%+ –∑–∞–¥–∞—á –∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—î—é —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è–º–∏

## üéØ –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ó –ê–ì–ï–ù–¢–ê–ú–ò

**–î–æ–¥–∞—Ç–∏ –≤ —É—Å—ñ AgentDependencies:**

```python
@dataclass
class AgentDependencies:
    # ... —ñ—Å–Ω—É—é—á—ñ –ø–æ–ª—è ...

    # –ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Å–≤—ñ–∂–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
    rules_path: str = ".claude/rules"
    auto_refresh_enabled: bool = True
    refresh_frequency: int = 5  # –ø—ñ—Å–ª—è —Å–∫—ñ–ª—å–∫–æ—Ö –º—ñ–∫—Ä–æ–∑–∞–¥–∞—á

    async def refresh_rules(self, trigger: str = "manual") -> None:
        """–û—Å–≤—ñ–∂–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –∞–≥–µ–Ω—Ç–∞."""
        await refresh_role_memory(trigger, self.__class__.__name__)
```

## üîÆ –ú–ê–ô–ë–£–¢–ù–Ñ: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏

**–ü–ª–∞–Ω—É—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:**

```python
@auto_refresh_rules(frequency=5)
async def execute_task(task_id: str, agent_deps: AgentDependencies):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Å–≤—ñ–∂—É—î –ø—Ä–∞–≤–∏–ª–∞ –∫–æ–∂–Ω—ñ 5 –º—ñ–∫—Ä–æ–∑–∞–¥–∞—á."""
    pass

@refresh_before_commit
async def create_git_commit(message: str):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Å–≤—ñ–∂—É—î git –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º—ñ—Ç–æ–º."""
    pass
```

**–¶–µ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç—å:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª
- ‚úÖ –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ª—é–¥—Å—å–∫–∏—Ö –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –ü–æ—Å—Ç—ñ–π–Ω—É —è–∫—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ –∞–≥–µ–Ω—Ç—ñ–≤
