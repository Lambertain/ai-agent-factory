# 02. –ü—Ä–∞–≤–∏–ª–∞ —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É (Workflow)

## üéØ –¢—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª–∞ workflow

### 1Ô∏è‚É£ –ü–†–ê–í–ò–õ–û –ó–ê–ù–£–†–ï–ù–ù–Ø –í –†–û–õ–¨

**–û–±–æ–≤'—è–∑–∫–æ–≤–µ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –µ–∫—Å–ø–µ—Ä—Ç–∞:**

- üìñ **–ß–ò–¢–ê–ô —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç** —Ä–æ–ª—ñ –ø–µ—Ä–µ–¥ —Ä–æ–±–æ—Ç–æ—é
- üß† **–ó–ê–ì–õ–ò–ë–õ–Æ–ô–°–Ø** —É —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ç–∞ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑—É
- üé≠ **–ü–†–ê–¶–Æ–ô** —è–∫ –µ–∫—Å–ø–µ—Ä—Ç —É —Ü—ñ–π –æ–±–ª–∞—Å—Ç—ñ, –∞ –Ω–µ —è–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π AI
- ‚úÖ **–í–ò–ö–û–†–ò–°–¢–û–í–£–ô** —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É —Ç–µ—Ä–º—ñ–Ω–æ–ª–æ–≥—ñ—é —Ç–∞ –ø—ñ–¥—Ö–æ–¥–∏ —Ä–æ–ª—ñ

**–ü—Ä–∏–∫–ª–∞–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
```
‚ùå "–°—Ç–≤–æ—Ä—é—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç React..."
   (–ø—Ä–∞—Ü—é—î —è–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç)
```

**–ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
```
‚úÖ "–Ø–∫ UI/UX Enhancement Agent, –ø—Ä–æ–µ–∫—Ç—É—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑ —Ñ–æ–∫—É—Å–æ–º –Ω–∞:
   - Accessibility (WCAG 2.1 AA)
   - Responsive –¥–∏–∑–∞–π–Ω
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å–≤—ñ–¥
   - –í–∑–∞—î–º–æ–¥—ñ—è –∑ shadcn/ui –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é"
```

### 2Ô∏è‚É£ –ü–†–ê–í–ò–õ–û –ì–ù–£–ß–ö–ò–• –°–¢–ê–¢–£–°–Ü–í

**–í–∏–±–∏—Ä–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á—ñ –ø–æ –ø—ñ–¥—Å—É–º–∫—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:**

```python
# –°–¶–ï–ù–ê–†–Ü–ô 1: –ü–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–∫–æ–Ω–∞–Ω–∞ ‚úÖ
if task_completed_successfully and no_issues_found:
    status = "done"
    # –ü—Ä–∏–∫–ª–∞–¥: —Ä–µ–∞–ª—ñ–∑—É–≤–∞–≤ —Ñ—ñ—á—É, –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å, –∫–æ–¥-—Ä–µ–≤'—é —á–∏—Å—Ç–∏–π

# –°–¶–ï–ù–ê–†–Ü–ô 2: –í–∏–º–∞–≥–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ üîç
elif task_completed_but_needs_review:
    status = "review"
    # –ü—Ä–∏–∫–ª–∞–¥: –∫–æ–¥ –≥–æ—Ç–æ–≤–∏–π, –∞–ª–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
    # –í–∞–∂–ª–∏–≤–æ: review –∑–∞–¥–∞—á—ñ –º–æ–∂—É—Ç—å –±–ª–æ–∫—É–≤–∞—Ç–∏ —ñ–Ω—à—ñ –∑–∞–¥–∞—á—ñ!

# –°–¶–ï–ù–ê–†–Ü–ô 3: –ü–æ—Ç—Ä—ñ–±–Ω–∞ –µ—Å–∫–∞–ª–∞—Ü—ñ—è ‚ö†Ô∏è
elif needs_escalation_or_help:
    status = "doing"  # –ó–∞–ª–∏—à–∏—Ç–∏ –≤ —Å—Ç–∞—Ç—É—Å—ñ "doing"
    # –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∑–∞–¥–∞—á—É –¥–ª—è –∞–≥–µ–Ω—Ç–∞, —è–∫–∏–π –º–æ–∂–µ –¥–æ–ø–æ–º–æ–≥—Ç–∏
    await mcp__archon__manage_task(
        action="create",
        title="[–ï—Å–∫–∞–ª–∞—Ü—ñ—è] –î–æ–ø–æ–º–æ–≥–∞ –∑ [–ø—Ä–æ–±–ª–µ–º–∞]",
        description="–ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞: [–¥–µ—Ç–∞–ª—ñ]",
        assignee="[–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∞–≥–µ–Ω—Ç]"
    )

# –°–¶–ï–ù–ê–†–Ü–ô 4: –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞ üö´
elif task_blocked:
    status = "doing"
    # –û–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å —ñ–∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –±–ª–æ–∫–µ—Ä
    description += "\n\nüö´ –ë–õ–û–ö–ï–†: [–æ–ø–∏—Å]\n–û—á—ñ–∫—É—î: [—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è]"
```

**–ö–õ–Æ–ß–û–í–ê –õ–û–ì–Ü–ö–ê:**
- `done` - –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–∫–æ–Ω–∞–Ω–æ –±–µ–∑ –ø–∏—Ç–∞–Ω—å
- `review` - –≥–æ—Ç–æ–≤–æ, –∞–ª–µ –≤–∏–º–∞–≥–∞—î —à–≤–∏–¥–∫–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- `doing` + –µ—Å–∫–∞–ª–∞—Ü—ñ—è - –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞, —Å—Ç–≤–æ—Ä–µ–Ω–∞ –∑–∞–¥–∞—á–∞ –¥–ª—è —ñ–Ω—à–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- `doing` + –±–ª–æ–∫–µ—Ä - –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏

### 3Ô∏è‚É£ –ü–†–ê–í–ò–õ–û –ü–†–Ü–û–†–ò–¢–ò–ó–ê–¶–Ü–á –ß–ï–†–ï–ó –ü–†–û–î–ñ–ï–ö–¢-–ú–ï–ù–ï–î–ñ–ï–†–ê

**üö® –ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–õ–ò–í–û: –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ –ó–ê–í–ñ–î–ò –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Å—è –Ω–∞ —Ä–æ–ª—å –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞!**

**–ü–†–û–ë–õ–ï–ú–ê —Å—Ç–∞—Ä–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
- –ê–≥–µ–Ω—Ç —à—É–∫–∞—î –∑–∞–¥–∞—á—ñ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Å–≤–æ—î—ó —Ä–æ–ª—ñ
- –ü—Ä–æ–ø—É—Å–∫–∞—î –∑–∞–¥–∞—á—ñ –∑ –≤–∏—â–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º –¥–ª—è —ñ–Ω—à–∏—Ö —Ä–æ–ª–µ–π
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

**–†–Ü–®–ï–ù–ù–Ø: –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞**

### –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π workflow –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –ó–ê–í–ï–†–®–ï–ù–ù–Ø –ó–ê–î–ê–ß–Ü –í –ü–û–¢–û–ß–ù–Ü–ô –†–û–õ–Ü           ‚îÇ
‚îÇ    ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–Ω—è ‚Üí –†–µ—Ñ–ª–µ–∫—Å—ñ—è ‚Üí Git –∫–æ–º—ñ—Ç        ‚îÇ
‚îÇ    ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –≤ Archon –Ω–∞ "done"     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ù–Ø –ù–ê –†–û–õ–¨ –ü–†–û–î–ñ–ï–ö–¢-–ú–ï–ù–ï–î–ñ–ï–†–ê     ‚îÇ
‚îÇ    üé≠ –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ–º–ø—Ç archon_project_manager     ‚îÇ
‚îÇ    üé≠ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ —Ä–æ–ª—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. –ê–ù–ê–õ–Ü–ó –°–¢–ê–ù–£ –ü–†–û–ï–ö–¢–£ (–ü–†–û–î–ñ–ï–ö–¢-–ú–ï–ù–ï–î–ñ–ï–†)    ‚îÇ
‚îÇ    üìä –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–¥–∞—á—ñ –≤ —Å—Ç–∞—Ç—É—Å—ñ "doing"      ‚îÇ
‚îÇ    üìä –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–¥–∞—á—ñ –≤ —Å—Ç–∞—Ç—É—Å—ñ "review"     ‚îÇ
‚îÇ    üìä –Ø–∫—â–æ —î doing/review - –æ–±—Ä–∞—Ç–∏ –Ω–∞–π–≤–∏—â–∏–π    ‚îÇ
‚îÇ         –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —Å–µ—Ä–µ–¥ –Ω–∏—Ö                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. –í–ò–ë–Ü–† –ó–ê–î–ê–ß–Ü –ó –ù–ê–ô–í–ò–©–ò–ú –ü–†–Ü–û–†–ò–¢–ï–¢–û–ú         ‚îÇ
‚îÇ    üéØ –Ø–∫—â–æ —î doing/review - –æ–±—Ä–∞—Ç–∏ –∑ –Ω–∏—Ö       ‚îÇ
‚îÇ    üéØ –Ø–∫—â–æ –ù–Ü doing/review - –æ–±—Ä–∞—Ç–∏ –∑ todo     ‚îÇ
‚îÇ         (–Ω–∞–π–≤–∏—â–∏–π task_order —Å–µ—Ä–µ–¥ –£–°–Ü–• —Ä–æ–ª–µ–π) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ù–Ø –í –†–û–õ–¨ –î–õ–Ø –ó–ê–î–ê–ß–Ü              ‚îÇ
‚îÇ    üé≠ –í–∏–∑–Ω–∞—á–∏—Ç–∏ assignee –∑–∞–¥–∞—á—ñ                ‚îÇ
‚îÇ    üé≠ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É —Ä–æ–ª—å          ‚îÇ
‚îÇ    ‚úÖ –ü–æ—á–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞:

```python
async def select_next_highest_priority_task() -> dict:
    """
    –í–∏–±—Ä–∞—Ç–∏ –∑–∞–¥–∞—á—É –∑ –Ω–∞–π–≤–∏—â–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º —Å–µ—Ä–µ–¥ –£–°–Ü–• —Ä–æ–ª–µ–π.
    –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò –≤ —Ä–æ–ª—ñ –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞.
    """

    # –ö–†–û–ö 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ doing/review –∑–∞–¥–∞—á (–±—É–¥—å-—è–∫–∞ —Ä–æ–ª—å)
    doing_tasks = await mcp__archon__find_tasks(
        filter_by="status", filter_value="doing"
    )
    review_tasks = await mcp__archon__find_tasks(
        filter_by="status", filter_value="review"
    )

    # –ö–†–û–ö 2: –Ø–∫—â–æ —î doing/review - –æ–±—Ä–∞—Ç–∏ –Ω–∞–π–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
    urgent_tasks = doing_tasks + review_tasks
    if urgent_tasks:
        task = max(urgent_tasks, key=lambda t: t["task_order"])
        print(f"üî¥ –ü–†–Ü–û–†–ò–¢–ï–¢: {task['status'].upper()} –∑–∞–¥–∞—á–∞")
        return task

    # –ö–†–û–ö 3: –Ø–∫—â–æ –ù–Ü doing/review - –æ–±—Ä–∞—Ç–∏ todo –∑ –Ω–∞–π–≤–∏—â–∏–º task_order
    todo_tasks = await mcp__archon__find_tasks(
        filter_by="status", filter_value="todo"
    )
    if todo_tasks:
        task = max(todo_tasks, key=lambda t: t["task_order"])
        print(f"üü¢ –ù–û–í–ê –ó–ê–î–ê–ß–ê –∑ task_order: {task['task_order']}")
        return task

    print("üì≠ –ù–µ–º–∞—î –∑–∞–¥–∞—á –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è")
    return None
```

### –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞:

**‚úÖ –ó–ê–í–ñ–î–ò:**
- –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞
- –ü—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä –∞–Ω–∞–ª—ñ–∑—É—î –í–°–Ü –∑–∞–¥–∞—á—ñ (–Ω–µ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –æ–¥–Ω—ñ—î—ó —Ä–æ–ª—ñ)
- –í–∏–±—ñ—Ä –∑–∞–¥–∞—á—ñ –∑ –Ω–∞–π–≤–∏—â–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–ª—ñ
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –≤ –ø–æ—Ç—Ä—ñ–±–Ω—É —Ä–æ–ª—å –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±—Ä–∞–Ω–æ—ó –∑–∞–¥–∞—á—ñ

**‚ùå –ù–Ü–ö–û–õ–ò:**
- –ù–µ —à—É–∫–∞—Ç–∏ –∑–∞–¥–∞—á—ñ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó —Ä–æ–ª—ñ
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ doing/review –∑–∞–¥–∞—á—ñ —ñ–Ω—à–∏—Ö —Ä–æ–ª–µ–π
- –ù–µ –±—Ä–∞—Ç–∏ todo –∑–∞–¥–∞—á—ñ —è–∫—â–æ —î doing/review

**–û–ë“ê–†–£–ù–¢–£–í–ê–ù–ù–Ø –ü–†–Ü–û–†–ò–¢–ï–¢–Ü–í:**
1. **doing/review (–±—É–¥—å-—è–∫–∞ —Ä–æ–ª—å)** - –Ω–∞–π–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç, –º–æ–∂–µ –±–ª–æ–∫—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç
2. **todo (–Ω–∞–π–≤–∏—â–∏–π task_order)** - –Ω–æ–≤–∞ —Ä–æ–±–æ—Ç–∞, –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä —Å–µ—Ä–µ–¥ —É—Å—ñ—Ö —Ä–æ–ª–µ–π

## üéØ –ü–û–ì–†–£–ñ–ï–ù–ù–Ø –í –ö–û–ù–¢–ï–ö–°–¢ –ü–†–û–ï–ö–¢–£

**–û–ë–û–í'–Ø–ó–ö–û–í–ê –ü–û–°–õ–Ü–î–û–í–ù–Ü–°–¢–¨ –ü–ï–†–ï–î –ü–û–ß–ê–¢–ö–û–ú –ë–£–î–¨-–Ø–ö–û–á –ó–ê–î–ê–ß–Ü:**

```
–ï–¢–ê–ü 0: –û–¢–†–ò–ú–ê–ù–ù–Ø –ó–ê–î–ê–ß–Ü
‚îî‚îÄ –û—Ç—Ä–∏–º–∞—Ç–∏ task_id ‚Üí –í–∏–ª—É—á–∏—Ç–∏ project_id

–ï–¢–ê–ü 1: –ß–ò–¢–ê–ù–ù–Ø –û–ü–ò–°–£ –ü–†–û–ï–ö–¢–£ (–û–ë–û–í'–Ø–ó–ö–û–í–û)
‚îú‚îÄ mcp__archon__find_projects(project_id=project_id)
‚îú‚îÄ –ó–∞–ø–∞–º'—è—Ç–∞—Ç–∏: title, description, github_repo, —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
‚îî‚îÄ –í–∏–≤–µ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É: "üìã –ü—Ä–æ–µ–∫—Ç: [–Ω–∞–∑–≤–∞]\nüìñ –û–ø–∏—Å: [200 —Å–∏–º–≤–æ–ª—ñ–≤]...\nüîó –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: [github_repo]"

–ï–¢–ê–ü 2: –ß–ò–¢–ê–ù–ù–Ø –û–°–¢–ê–ù–ù–Ü–• –ö–û–ú–Ü–¢–Ü–í (–û–ë–û–í'–Ø–ó–ö–û–í–û)
‚îú‚îÄ –í–∏–ª—É—á–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–∏–π —à–ª—è—Ö —ñ–∑ github_repo
‚îú‚îÄ cd "[local_path]" && git log --oneline -10
‚îî‚îÄ –í–∏–≤–µ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –∑–≤–µ–¥–µ–Ω–Ω—è –∫–æ–º—ñ—Ç—ñ–≤

–ï–¢–ê–ü 3: –ß–ò–¢–ê–ù–ù–Ø –ü–†–ê–í–ò–õ –ü–†–û–ï–ö–¢–£ (–û–ë–û–í'–Ø–ó–ö–û–í–û)
‚îî‚îÄ –ü—Ä–æ—á–∏—Ç–∞—Ç–∏: [local_path]/.claude/rules.md —Ç–∞ CLAUDE.md

–ï–¢–ê–ü 4: –¢–Ü–õ–¨–ö–ò –ü–Ü–°–õ–Ø –¶–¨–û–ì–û
‚îî‚îÄ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ —Ä–æ–ª—å ‚Üí –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—ñ–∫—Ä–æ–∑–∞–¥–∞—á—ñ ‚Üí –ü–æ—á–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
```

---

## üß† –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø –ö–û–ù–¢–ï–ö–°–¢–£ –ü–†–û–ï–ö–¢–£ –ß–ï–†–ï–ó –°–ï–°–Ü–á

**üö® –ö–†–ò–¢–ò–ß–ù–ê –ü–†–û–ë–õ–ï–ú–ê:** –ü—ñ—Å–ª—è "Context left until auto-compact: 0%" –∞–≥–µ–Ω—Ç–∏ –≤—Ç—Ä–∞—á–∞—é—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É —Ç–∞ project_id.

**–†–Ü–®–ï–ù–ù–Ø: –ü–æ—Å—Ç—ñ–π–Ω–µ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç —É –∫–æ–∂–Ω—ñ–π –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**

### –û–ë–û–í'–Ø–ó–ö–û–í–ò–ô HEADER –£ –ö–û–ñ–ù–Ü–ô –í–Ü–î–ü–û–í–Ü–î–Ü:

```markdown
üìå PROJECT CONTEXT: [Project Title] (ID: [project_id])
üé≠ ROLE: [Current Role]
```

**–ü–†–ò–ö–õ–ê–î:**

```markdown
üìå PROJECT CONTEXT: AI Agent Factory (ID: c75ef8e3-6f4d-4da2-9e81-8d38d04a341a)
üé≠ ROLE: Archon Implementation Engineer

‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Payment Integration Agent
...
```

### –ê–õ–ì–û–†–ò–¢–ú –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø –ö–û–ù–¢–ï–ö–°–¢–£:

```python
async def preserve_project_context(task_id: str) -> Dict:
    """–ó–±–µ—Ä–µ–≥—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ –≤—Å—é —Å–µ—Å—ñ—é."""

    # 1. –û—Ç—Ä–∏–º–∞—Ç–∏ project_id –∑ –∑–∞–¥–∞—á—ñ
    task = await mcp__archon__find_tasks(task_id=task_id)
    project_id = task["project_id"]

    # 2. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç
    project = await mcp__archon__find_projects(project_id=project_id)

    # 3. –ó–±–µ—Ä–µ–≥—Ç–∏ —É –ö–û–ñ–ù–Ü–ô –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
    context_header = f"""
üìå PROJECT CONTEXT: {project['title']} (ID: {project_id})
üé≠ ROLE: {current_role}
"""

    # 4. –í–∫–ª—é—á–∞—Ç–∏ project_id —É –í–°–Ü –≤–∏–∫–ª–∏–∫–∏ Archon
    # –ü–†–ê–í–ò–õ–¨–ù–û:
    tasks = await mcp__archon__find_tasks(
        project_id=project_id,  # ‚úÖ –Ø–≤–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è
        filter_by="status",
        filter_value="todo"
    )

    # –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
    tasks = await mcp__archon__find_tasks(  # ‚ùå –ë—É–¥–µ —à—É–∫–∞—Ç–∏ —É –≤—Å—ñ—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
        filter_by="status",
        filter_value="todo"
    )

    return {
        "project_id": project_id,
        "project_title": project["title"],
        "context_header": context_header
    }
```

### –û–ë–û–í'–Ø–ó–ö–û–í–Ü –ü–†–ê–í–ò–õ–ê –î–õ–Ø –ü–†–û–î–ñ–ï–ö–¢-–ú–ï–ù–ï–î–ñ–ï–†–ê:

**–ü–Ü–°–õ–Ø AUTO-COMPACT –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä –ü–û–í–ò–ù–ï–ù:**

```python
async def recover_project_context_after_compact():
    """–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É –ø—ñ—Å–ª—è auto-compact."""

    # üö® –Ø–ö–©–û –Ω–µ–º–∞—î project_id –≤ –ø–∞–º'—è—Ç—ñ:

    # –ö–†–û–ö 1: –ó–Ω–∞–π—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é doing –∑–∞–¥–∞—á—É
    doing_tasks = await mcp__archon__find_tasks(
        filter_by="status",
        filter_value="doing"
    )

    if doing_tasks:
        # –í–∑—è—Ç–∏ project_id –∑ doing –∑–∞–¥–∞—á—ñ
        project_id = doing_tasks[0]["project_id"]
    else:
        # –ö–†–û–ö 2: –ó–Ω–∞–π—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é review –∑–∞–¥–∞—á—É
        review_tasks = await mcp__archon__find_tasks(
            filter_by="status",
            filter_value="review"
        )
        if review_tasks:
            project_id = review_tasks[0]["project_id"]
        else:
            # –ö–†–û–ö 3: –ó–∞–ø–∏—Ç–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
            print("‚ö†Ô∏è –í—Ç—Ä–∞—á–µ–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É –ø—ñ—Å–ª—è auto-compact")
            print("üìã –ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∫–∞–∂—ñ—Ç—å project_id –∞–±–æ –Ω–∞–∑–≤—É –ø—Ä–æ–µ–∫—Ç—É")
            return None

    # –ö–†–û–ö 4: –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
    project = await mcp__archon__find_projects(project_id=project_id)

    # –ö–†–û–ö 5: –í–∏–≤–µ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
    print(f"üîÑ –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É: {project['title']}")
    print(f"üìå PROJECT CONTEXT: {project['title']} (ID: {project_id})")

    return project_id
```

### –®–ê–ë–õ–û–ù –í–Ü–î–ü–û–í–Ü–î–Ü –ó –ö–û–ù–¢–ï–ö–°–¢–û–ú:

```markdown
üìå PROJECT CONTEXT: AI Agent Factory (ID: c75ef8e3-6f4d-4da2-9e81-8d38d04a341a)
üé≠ ROLE: Archon Quality Guardian

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: [–Ω–∞–∑–≤–∞ –∑–∞–¥–∞—á—ñ]
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

[–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ä–æ–±–æ—Ç–∏]

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è –ø–æ—à—É–∫—É –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∑–∞–¥–∞—á—ñ...
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

### –ö–†–ò–¢–ò–ß–ù–Ü –ü–†–ê–í–ò–õ–ê:

**‚úÖ –ó–ê–í–ñ–î–ò:**
- –í–∫–ª—é—á–∞—Ç–∏ project_id —É header –∫–æ–∂–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞–¥–∞—á—ñ –ø–æ project_id —É –≤—Å—ñ—Ö –≤–∏–∫–ª–∏–∫–∞—Ö Archon
- –í—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ doing/review –∑–∞–¥–∞—á –ø—ñ—Å–ª—è auto-compact
- –í–∏–≤–æ–¥–∏—Ç–∏ –ø–æ–≤–Ω—É –Ω–∞–∑–≤—É –ø—Ä–æ–µ–∫—Ç—É —Ç–∞ ID

**‚ùå –ù–Ü–ö–û–õ–ò:**
- –ù–µ —à—É–∫–∞—Ç–∏ –∑–∞–¥–∞—á—ñ –±–µ–∑ project_id –ø—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –ù–µ –∑–∞–±—É–≤–∞—Ç–∏ –ø—Ä–æ project_id —É –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥—è—Ö
- –ù–µ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–¥–∞—á—ñ –∑ —ñ–Ω—à–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤
- –ù–µ –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –±–µ–∑ project_id –ø—ñ—Å–ª—è auto-compact (–∑–∞–ø–∏—Ç–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)

## üì¢ –ö–û–ú–£–ù–Ü–ö–ê–¶–Ü–ô–ù–Ü –ü–ê–¢–¢–ï–†–ù–ò

**‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
- "–ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–æ—ó –∑–∞–¥–∞—á—ñ –∑—ñ —Å–ø–∏—Å–∫—É?"
- "–ü—Ä–æ–¥–æ–≤–∂—É—î–º–æ –∑ —ñ–Ω—à–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏?"
- "–Ø–∫—É –∑–∞–¥–∞—á—É –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥–∞–ª—ñ?"

**‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
- "–ù–∞—Å—Ç—É–ø–Ω–∞ –∑–∞–¥–∞—á–∞: '–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—è Puppeteer MCP –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –±—Ä–∞—É–∑–µ—Ä–∞' (–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç P1-High, Implementation Engineer). –ü—Ä–∏—Å—Ç—É–ø–∞—Ç–∏?"
- "–ù–∞—Å—Ç—É–ø–Ω–∞ –∑–∞–¥–∞—á–∞: '–°—Ç–≤–æ—Ä–∏—Ç–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ Viral Sharing Agent' (–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç P1-High, UI/UX Designer). –ü—Ä–∏—Å—Ç—É–ø–∞—Ç–∏?"

**–û–ë–û–í'–Ø–ó–ö–û–í–ò–ô –§–û–†–ú–ê–¢:**
```
–ù–∞—Å—Ç—É–ø–Ω–∞ –∑–∞–¥–∞—á–∞: '[—Ç–æ—á–Ω–∞ –Ω–∞–∑–≤–∞ –∑ Archon]' (–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç P[X]-[—Ä—ñ–≤–µ–Ω—å]/task_order [—á–∏—Å–ª–æ], [assignee]). –ü—Ä–∏—Å—Ç—É–ø–∞—Ç–∏?
```

---

## üîÑ –ê–í–¢–û–ú–ê–¢–ò–ß–ù–ï –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ù–Ø –ù–ê PROJECT MANAGER

**üö® –ü–Ü–°–õ–Ø –ö–û–ñ–ù–û–á –ó–ê–í–ï–†–®–ï–ù–û–á –ó–ê–î–ê–ß–Ü:**

### –û–±–æ–≤'—è–∑–∫–æ–≤–∏–π workflow:

```python
async def complete_task_and_switch():
    """–ó–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–¥–∞—á—É —Ç–∞ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –Ω–∞ PM."""

    # 1. –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –∑–∞–¥–∞—á—É
    await mcp__archon__manage_task(
        action="update",
        task_id=current_task_id,
        status="done"  # –∞–±–æ "review" —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
    )

    # 2. –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –Ω–∞ –ø—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞
    print("üé≠ –ü–ï–†–ï–ö–õ–Æ–ß–ê–Æ–°–Ø –ù–ê –†–û–õ–¨ ARCHON PROJECT MANAGER")

    # 3. –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ–º–ø—Ç PM
    pm_prompt = Glob("**/*project*manager*knowledge*.md")

    # 4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ —Ä–æ–ª—å
    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
    print("üé≠ –†–û–õ–¨: ARCHON PROJECT MANAGER")
    print("üìã –ï–∫—Å–ø–µ—Ä—Ç–∏–∑–∞: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏, –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—è")
    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")

    # 5. –ó–Ω–∞–π—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—É –∑–∞–¥–∞—á—É –∑ –Ω–∞–π–≤–∏—â–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º
    next_task = await select_next_highest_priority_task()

    # 6. –Ø–∫—â–æ —î –∑–∞–¥–∞—á–∞ - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ —ó—ó —Ä–æ–ª—å
    if next_task:
        print(f"üìã –ù–∞—Å—Ç—É–ø–Ω–∞ –∑–∞–¥–∞—á–∞: {next_task['title']}")
        print(f"üé≠ Assignee: {next_task['assignee']}")
        # –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ —Ä–æ–ª—å assignee —Ç–∞ –ø–æ—á–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
    else:
        print("‚úÖ –í—Å—ñ –∑–∞–¥–∞—á—ñ –≤–∏–∫–æ–Ω–∞–Ω—ñ!")
```

### ‚ùå –ù–Ü–ö–û–õ–ò –ù–ï –†–û–ë–ò–¢–ò:

- –®—É–∫–∞—Ç–∏ –∑–∞–¥–∞—á—ñ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Å–≤–æ—î—ó —Ä–æ–ª—ñ
- –ü–∏—Å–∞—Ç–∏ "–ù–µ–º–∞—î –∑–∞–¥–∞—á –¥–ª—è [–º–æ—è —Ä–æ–ª—å]"
- –ó–∞–∫—ñ–Ω—á—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ PM

### ‚úÖ –ó–ê–í–ñ–î–ò –†–û–ë–ò–¢–ò:

- –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞ PM
- PM –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —Å–µ—Ä–µ–¥ –£–°–Ü–• —Ä–æ–ª–µ–π
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è –≤ –ø–æ—Ç—Ä—ñ–±–Ω—É —Ä–æ–ª—å —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏

---

## üîß ARCHON MCP TOOLS - –ü—Ä–∞–≤–∏–ª–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥–µ–Ω—Ç–∏ –ø–∏—à—É—Ç—å "Archon –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π" –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è MCP tools.

**–†—ñ—à–µ–Ω–Ω—è:** Archon MCP Server - —Ü–µ –ù–ï –∑–æ–≤–Ω—ñ—à–Ω—ñ–π API, –∞ –≤–±—É–¥–æ–≤–∞–Ω–∏–π MCP tool provider.

### –û–ë–û–í'–Ø–ó–ö–û–í–ò–ô –ß–ï–ö-–õ–ò–°–¢ –ø–µ—Ä–µ–¥ –≤–∏–∫–ª–∏–∫–æ–º Archon:

‚úÖ **–ö–†–û–ö 1: –†–æ–∑—É–º—ñ–Ω–Ω—è MCP Tools**
- Archon MCP Server = –≤–±—É–¥–æ–≤–∞–Ω–∏–π tool provider —É Claude Code
- –ù–ï –ø–æ—Ç—Ä—ñ–±–Ω–æ API –∫–ª—é—á—ñ –∞–±–æ endpoints
- –ù–ï –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- –î–æ—Å—Ç—É–ø–Ω–∏–π –ó–ê–í–ñ–î–ò

‚úÖ **–ö–†–û–ö 2: –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –≤–∏–∫–ª–∏–∫–∏**
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è MCP tool
tasks = await mcp__archon__find_tasks(
    project_id="c75ef8e3-6f4d-4da2-9e81-8d38d04a341a",
    filter_by="status",
    filter_value="todo"
)

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–ø—Ä–æ–±–∞ HTTP –∑–∞–ø–∏—Ç—É
response = await http.get("https://archon-api.com/tasks")  # –ù–ï –†–û–ë–ò–¢–ò!
```

‚úÖ **–ö–†–û–ö 3: –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**
```python
try:
    tasks = await mcp__archon__find_tasks(...)
except Exception as e:
    # –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ - —Ü–µ –±–∞–≥ MCP tools, –ù–ï "–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å"
    print(f"[ERROR] MCP tool error: {e}")
    # –ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–æ —Ç–µ—Ö–Ω—ñ—á–Ω—É –ø—Ä–æ–±–ª–µ–º—É
```

### ‚ùå –ó–ê–ë–û–†–û–ù–ï–ù–Ü –§–†–ê–ó–ò:
- "Archon –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π"
- "–ù–µ –º–æ–∂—É –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ Archon"
- "Archon API –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î"
- "–ü–æ—Ç—Ä—ñ–±–µ–Ω API –∫–ª—é—á –¥–ª—è Archon"

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–Ü –§–†–ê–ó–ò:
- "–í–∏–∫–ª–∏–∫–∞—é Archon MCP tool –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–¥–∞—á"
- "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –≤–±—É–¥–æ–≤–∞–Ω–∏–π mcp__archon__find_tasks()"
- "–û–Ω–æ–≤–ª—é—é —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ Archon MCP"

---

## üî¥ –ü–†–ê–í–ò–õ–¨–ù–Ü –ü–†–Ü–û–†–ò–¢–ï–¢–ò: Doing = –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥–µ–Ω—Ç–∏ –≤–≤–∞–∂–∞—é—Ç—å `doing` = "—Ö—Ç–æ—Å—å –∑–∞—Ä–∞–∑ –ø—Ä–∞—Ü—é—î", —ñ–≥–Ω–æ—Ä—É—é—Ç—å —Ü—ñ –∑–∞–¥–∞—á—ñ.

**–†—ñ—à–µ–Ω–Ω—è:** `doing` = –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –º–∏–Ω—É–ª–æ—ó —Å–µ—Å—ñ—ó (–ù–ê–ô–í–ò–©–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢!)

### –¢–∞–±–ª–∏—Ü—è –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤:

| –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–Ω—è | –ö–æ–ª–∏ –≤–∏–Ω–∏–∫–∞—î |
|-----------|--------|----------|--------------|
| **1 (–ù–ê–ô–í–ò–©–ò–ô)** | `doing` | –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –º–∏–Ω—É–ª–æ—ó —Å–µ—Å—ñ—ó | –ó–∞–¥–∞—á–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ |
| **2** | `review` | –ü–æ—Ç—Ä–µ–±—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –µ–∫—Å–ø–µ—Ä—Ç–∞ | –ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –ø–µ—Ä–µ–¥ done |
| **3** | `todo` | –ù–æ–≤–∞ –∑–∞–¥–∞—á–∞, –Ω–µ —Ä–æ–∑–ø–æ—á–∞—Ç–∞ | –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∑–∞–¥–∞—á—ñ |

### –§—É–Ω–∫—Ü—ñ—è get_next_task() –∑ –ü–†–ê–í–ò–õ–¨–ù–ò–ú–ò –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏:

```python
async def get_next_task(my_role: str) -> dict:
    """
    –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—É –∑–∞–¥–∞—á—É –∑ –ü–†–ê–í–ò–õ–¨–ù–ò–ú –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º.

    üö® –ö–†–ò–¢–ò–ß–ù–û: doing = –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞, –ù–ï "—Ö—Ç–æ—Å—å –ø—Ä–∞—Ü—é—î"!
    """

    project_id = ProjectContext.get_instance().get_project_id()

    # –ü–†–Ü–û–†–ò–¢–ï–¢ 1: –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞ (doing) - –ù–ê–ô–í–ò–©–ò–ô!
    doing_tasks = await mcp__archon__find_tasks(
        project_id=project_id,
        filter_by="status",
        filter_value="doing"
    )
    my_doing = [t for t in doing_tasks if t["assignee"] == my_role]

    if my_doing:
        task = max(my_doing, key=lambda t: t["task_order"])
        print(f"üîÑ –ü–†–Ü–û–†–ò–¢–ï–¢ 1: –ü—Ä–æ–¥–æ–≤–∂—É—é –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω—É: {task['title']}")
        print(f"   –¶—è –∑–∞–¥–∞—á–∞ –∑–∞–ª–∏—à–∏–ª–∞—Å—å –∑ –º–∏–Ω—É–ª–æ—ó —Å–µ—Å—ñ—ó - –∑–∞–≤–µ—Ä—à—É—é —ó—ó!")
        return task

    # –ü–†–Ü–û–†–ò–¢–ï–¢ 2: –ó–∞–¥–∞—á—ñ –Ω–∞ review
    review_tasks = await mcp__archon__find_tasks(
        project_id=project_id,
        filter_by="status",
        filter_value="review"
    )
    my_review = [t for t in review_tasks if t["assignee"] == my_role]

    if my_review:
        task = max(my_review, key=lambda t: t["task_order"])
        print(f"üîç –ü–†–Ü–û–†–ò–¢–ï–¢ 2: –ü–µ—Ä–µ–≤—ñ—Ä—è—é –Ω–∞ review: {task['title']}")
        return task

    # –ü–†–Ü–û–†–ò–¢–ï–¢ 3: –ù–æ–≤—ñ –∑–∞–¥–∞—á—ñ (todo)
    todo_tasks = await mcp__archon__find_tasks(
        project_id=project_id,
        filter_by="status",
        filter_value="todo"
    )
    my_todo = [t for t in todo_tasks if t["assignee"] == my_role]

    if my_todo:
        task = max(my_todo, key=lambda t: t["task_order"])
        print(f"üìã –ü–†–Ü–û–†–ò–¢–ï–¢ 3: –ü–æ—á–∏–Ω–∞—é –Ω–æ–≤—É: {task['title']}")
        return task

    print("‚úÖ –ù–µ–º–∞—î –∑–∞–¥–∞—á –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è")
    return None
```

---

## üîç REVIEW-FIRST –ú–ï–•–ê–ù–Ü–ó–ú

**–ü—Ä–æ–±–ª–µ–º–∞:** Review –∑–∞–¥–∞—á—ñ –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å—Å—è —ñ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è, –±–ª–æ–∫—É—é—Ç—å —Ä–æ–∑—Ä–æ–±–∫—É.

**–†—ñ—à–µ–Ω–Ω—è:** –û–ë–û–í'–Ø–ó–ö–û–í–ê –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ review –∑–∞–¥–∞—á –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Å–µ—Å—ñ—ó.

### –§—É–Ω–∫—Ü—ñ—è check_review_tasks_on_session_start:

```python
async def check_review_tasks_on_session_start():
    """
    –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ review –∑–∞–¥–∞—á—ñ –ü–ï–†–ï–î –ø–æ—á–∞—Ç–∫–æ–º –Ω–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏.

    –í–ò–ö–õ–ò–ö–ê–¢–ò –ó–ê–í–ñ–î–ò –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Å–µ—Å—ñ—ó!
    """

    project_id = ProjectContext.get_instance().get_project_id()

    review_tasks = await mcp__archon__find_tasks(
        project_id=project_id,
        filter_by="status",
        filter_value="review"
    )

    if not review_tasks:
        print("‚úÖ –ù–µ–º–∞—î –∑–∞–¥–∞—á –Ω–∞ review")
        return

    print(f"‚ö†Ô∏è –ó–Ω–∞–π–¥–µ–Ω–æ {len(review_tasks)} –∑–∞–¥–∞—á –Ω–∞ review")
    print("üîç –û–ë–†–û–ë–õ–Ø–Æ REVIEW –ó–ê–î–ê–ß–Ü –ü–ï–†–ï–î –ù–û–í–û–Æ –†–û–ë–û–¢–û–Æ:")

    for task in review_tasks:
        # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –º–æ–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç–∏
        if is_auto_reviewable(task):
            await auto_complete_review(task)
        else:
            await request_human_review(task)


def is_auto_reviewable(task: dict) -> bool:
    """–í–∏–∑–Ω–∞—á–∏—Ç–∏ —á–∏ –º–æ–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ review."""

    description = task.get("description", "").lower()

    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π review –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
    if "–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è" in description or "readme" in description:
        return True

    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π review –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö —Ñ—ñ–∫—Å—ñ–≤
    if "–ø—Ä–æ—Å—Ç–∏–π —Ñ—ñ–∫—Å" in description or "typo" in description:
        return True

    # –°–∫–ª–∞–¥–Ω—ñ –∑–∞–¥–∞—á—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å human review
    return False
```

### –ü–†–ê–í–ò–õ–û REVIEW-FIRST:

```
–ï–¢–ê–ü 1: –°–¢–ê–†–¢ –°–ï–°–Ü–á
‚îî‚îÄ –í–∏–∫–ª–∏–∫–∞—Ç–∏ check_review_tasks_on_session_start()

–ï–¢–ê–ü 2: –û–ë–†–û–ë–ö–ê REVIEW
‚îú‚îÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π review –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –∑–∞–¥–∞—á ‚Üí done
‚îú‚îÄ Human review –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö ‚Üí –∑–∞–ª–∏—à–∏—Ç–∏ –≤ review
‚îî‚îÄ –ï—Å–∫–∞–ª–∞—Ü—ñ—è —è–∫—â–æ >2 –¥–Ω—ñ–≤ ‚Üí —Å—Ç–≤–æ—Ä–∏—Ç–∏ escalation –∑–∞–¥–∞—á—É

–ï–¢–ê–ü 3: –¢–Ü–õ–¨–ö–ò –ü–Ü–°–õ–Ø REVIEW
‚îî‚îÄ –ü—Ä–∏—Å—Ç—É–ø–∏—Ç–∏ –¥–æ doing/todo –∑–∞–¥–∞—á
```